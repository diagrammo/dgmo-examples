chart: sequence 
title: Authentication Flow
PurchaserActor -> AuthService: Login(user, pass): 200 OK
AuthService -> AuthService: parseInput()
AuthService -> UserDB: getUser(id): UserObj
AuthService -> SessionCache: storeToken
SessionCache -> AuthService: notify
AuthService -> OrderQueue: emitLoginEvent
OrderQueue -> EmailWorker: processEvent <- done
Note Left of OrderQueue: foo