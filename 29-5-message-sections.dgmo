chart: sequence
title: 29.5 Message Sections

User is a actor
API is a service
AuthDB is a database
OrderDB is a database
PaymentGW is a gateway

== Authentication(blue) ==
User -> API: POST /login
API -> AuthDB: validateCredentials()
AuthDB -> API: token
API -> User: 200 OK (JWT)

== Place Order ==
User -> API: POST /order
API -> OrderDB: createOrder()

== Payment(green) ==
API -> PaymentGW: charge(amount)
PaymentGW -> API: confirmed
API -> OrderDB: markPaid(orderId)
API -> User: 201 Created
